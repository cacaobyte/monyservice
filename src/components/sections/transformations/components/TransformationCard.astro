---
import type { ImageMetadata } from "astro";

export interface Props {
  title: string;
  description: string;
  before: ImageMetadata;
  after: ImageMetadata;
}

const { title, description, before, after } = Astro.props;
---

<article class="group relative rounded-xl overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-neutral-900 hover:shadow-xl transition-all duration-300">
  <!-- Imágenes lado a lado -->
  <div class="grid grid-cols-2 h-64 md:h-72 relative">
    <div class="relative overflow-hidden">
      <img src={before.src} alt={`Antes - ${title}`} class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" />
      <div class="absolute bottom-0 left-0 right-0 bg-black/60 text-center text-sm text-white py-1">Antes</div>

      <!-- Preview en hover (pantallas grandes) -->
      <div class="hidden lg:block absolute z-50 top-2 right-2 scale-0 group-hover:scale-100 transition-transform duration-300 origin-top-right">
        <img src={before.src} alt={`Vista previa - Antes`} class="w-48 rounded shadow-lg border border-white" />
      </div>
    </div>
    <div class="relative overflow-hidden">
      <img src={after.src} alt={`Después - ${title}`} class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" />
      <div class="absolute bottom-0 left-0 right-0 bg-black/60 text-center text-sm text-white py-1">Después</div>

      <div class="hidden lg:block absolute z-50 top-2 left-2 scale-0 group-hover:scale-100 transition-transform duration-300 origin-top-left">
        <img src={after.src} alt={`Vista previa - Después`} class="w-48 rounded shadow-lg border border-white" />
      </div>
    </div>
  </div>

  <!-- Contenido -->
  <div class="p-4 dark:text-white text-gray-900">
    <h3 class="text-lg font-bold mb-1">{title}</h3>
    <p class="text-sm text-gray-600 dark:text-gray-300">{description}</p>
  </div>
</article>
